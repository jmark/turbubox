# QuickFlash default machine configuration file machines.cfg

# By Nathan C. Hearn
#    January 2, 2009
#
# To be used by QuickFlash/build.py


##############################################################################
## Argonne National Lab Intrpeid (Head Nodes) - IBM POWER5 - Serial xlC
##############################################################################

[ anl_intrepid_xlC_pwr5 : Settings for ANL BG/P head nodes with IBM xlC ]

MAKE make -j 4

USE_PACKAGE MAGICK

CXX xlC_r

CCFLAGS -O3 -q32 -qstrict -qinline -qeh -qrtti
LDFLAGS -O3 -q32 -qstrict -qinline -qeh -qrtti

CCFLAGS_SHARED 
LDFLAGS_SHARED -G -Wl,-G

CCFLAGS_NOSHARED 
LDFLAGS_NOSHARED

SO_EXT so

RANLIB ranlib
AR ar
ARFLAGS rsc

CCFLAGS_HDF5 -I/home/riley/hdf5-1.6.6-serial-fe/hdf5/include
LDFLAGS_HDF5 /home/riley/hdf5-1.6.6-serial-fe/hdf5/lib/libhdf5.a -lz

CCFLAGS_MAGICK -I/home/nhearn/local/imagemagick/6.3.8-xlC/include/ImageMagick
LDFLAGS_MAGICK -L/home/nhearn/local/imagemagick/6.3.8-xlC/lib -lMagick++



##############################################################################
## Argonne National Lab Intrpeid (Head Nodes) - IBM POWER5 - GCC 4.1.2pre
##############################################################################

[ anl_intrepid_gcc_pwr5 ]

MAKE make -j 4

USE_PACKAGE MAGICK

CXX g++

CCFLAGS -g -O3 -W -Wall -Wextra -mcpu=power5 -mtune=power5 -m32 \
    -ftree-vectorize
LDFLAGS -g -O3 -W -Wall -Wextra -mcpu=power5 -mtune=power5 -m32 \
    -ftree-vectorize

CCFLAGS_SHARED 
LDFLAGS_SHARED -shared

CCFLAGS_NOSHARED 
LDFLAGS_NOSHARED

SO_EXT so

RANLIB ranlib
AR ar
ARFLAGS rsc

CCFLAGS_HDF5 -I/home/riley/hdf5-1.6.6-serial-fe/hdf5/include
LDFLAGS_HDF5 /home/riley/hdf5-1.6.6-serial-fe/hdf5/lib/libhdf5.a -lz

CCFLAGS_MAGICK -I/home/nhearn/local/imagemagick/6.3.8/include/ImageMagick
LDFLAGS_MAGICK -L/home/nhearn/local/imagemagick/6.3.8/lib -lMagick++ \
    -lMagickWand



##############################################################################
## Argonne National Lab Intrpeid (Compute Nodes) - IBM BG/P (PowerPC 450)
## Parallel xlC
##############################################################################

[ anl_intrepid_xlC_nodes : ANL BG/P compute nodes with IBM xlC ]

MAKE make -j 4

USE_PACKAGE MPI

CXX /bgsys/drivers/ppcfloor/comm/bin/mpixlcxx_r

## NOTE: -qarch=450d may actuall be slower than 450

CCFLAGS -g -O4 -qstrict -qinline -qeh -qrtti -qarch=450 -qtune=450 -qhot \
    -qnoautoconfig ## -qhot=simd
LDFLAGS -g -O4 -qstrict -qinline -qeh -qrtti -qarch=450 -qtune=450 -qhot \
    -qnoautoconfig ## -qhot=simd

CCFLAGS_SHARED 
LDFLAGS_SHARED -G -Wl,-G

CCFLAGS_NOSHARED 
LDFLAGS_NOSHARED

SO_EXT so

RANLIB ranlib
AR ar
ARFLAGS rsc

CCFLAGS_HDF5 -I/home/riley/hdf5-1.6.6/hdf5/include
LDFLAGS_HDF5 -L/home/riley/hdf5-1.6.6/hdf5/lib -lhdf5



##############################################################################
## Argonne National Lab Intrepid (Compute Nodes) - IBM BG/P (PowerPC 450)
## GCC 4.1.2BGP with MPI
##############################################################################

[ anl_intrepid_gcc_nodes : ANL BG/P compute nodes with GCC ]

MAKE make -j 4

USE_PACKAGE MPI

# CXX /bgsys/drivers/ppcfloor/gnu-linux/bin/powerpc-bgp-linux-g++
# CXX /bgsys/drivers/ppcfloor/comm/gcc-fast/bin/mpicxx
CXX /bgsys/drivers/ppcfloor/comm/bin/mpicxx

CCFLAGS -g -O3 -W -Wall -Wextra -m32 -ftree-vectorize
LDFLAGS -g -O3 -W -Wall -Wextra -m32 -ftree-vectorize

CCFLAGS_SHARED 
LDFLAGS_SHARED -shared

CCFLAGS_NOSHARED 
LDFLAGS_NOSHARED

SO_EXT so

RANLIB ranlib
AR ar
ARFLAGS rsc

CCFLAGS_HDF5 -I/home/riley/hdf5-1.6.6/hdf5/include
LDFLAGS_HDF5 -L/home/riley/hdf5-1.6.6/hdf5/lib -lhdf5



##############################################################################
## Argonne National Lab octagon - MPICH2 with GCC 4.1.2
##############################################################################

[ anl_octagon_mpi : MPICH2 - GCC 4.1.2 ]

MAKE make

LIB_INSTALL_DIR .

USE_PACKAGE MPI MAGICK

CXX mpicxx

CCFLAGS -W -Wall -Wextra
LDFLAGS -W -Wall -Wextra

CCFLAGS_SHARED -fPIC
LDFLAGS_SHARED -shared

CCFLAGS_NOSHARED
LDFLAGS_NOSHARED

SO_EXT so

RANLIB ranlib
AR ar
ARFLAGS rsc

CCFLAGS_HDF5 -I/homes/jnorris/software/hdf5/latest/include
LDFLAGS_HDF5 -L/homes/jnorris/software/hdf5/latest/x86_64-linux/lib -lhdf5

CCFLAGS_MAGICK -I/homes/jnorris/software/ImageMagick/latest/include
LDFLAGS_MAGICK -L/homes/jnorris/software/ImageMagick/latest/x86_64-linux/lib \
    -lMagick++

SWIG swig -Wall

PYTHON_INSTALL_DIR /homes/jnorris/software/python/latest

CCFLAGS_PYTHON -I/usr/include/python2.5 \
    -I/homes/jnorris/software/python/latest/include
LDFLAGS_PYTHON -L/homes/jnorris/software/python/latest/lib

CCFLAGS_GSL -I/homes/jnorris/software/gsl/latest/include
LDFLAGS_GSL -L/homes/jnorris/software/gsl/latest/x86_64-linux/lib \
    -lgsl -lgslblas



##############################################################################
## Argonne National Lab harley - MPICH2 with GCC 4.1.2
##############################################################################

[ anl_harley_mpi : GCC 4.1.2 ]

MAKE make

LIB_INSTALL_DIR .

USE_PACKAGE MPI MAGICK

CXX mpicxx

CCFLAGS -W -Wall
LDFLAGS -W -Wall

CCFLAGS_SHARED -fPIC
LDFLAGS_SHARED -shared

CCFLAGS_NOSHARED
LDFLAGS_NOSHARED

SO_EXT so

RANLIB ranlib
AR ar
ARFLAGS rsc

CCFLAGS_HDF5 -I/homes/jnorris/software/hdf5/latest/include
LDFLAGS_HDF5 -L/homes/jnorris/software/hdf5/latest/i386-linux/lib -lhdf5

CCFLAGS_MAGICK -I/homes/jnorris/software/ImageMagick/latest/include
LDFLAGS_MAGICK -L/homes/jnorris/software/ImageMagick/latest/i386-linux/lib \
    -lMagick++

SWIG swig -Wall

PYTHON_INSTALL_DIR /homes/jnorris/software/python/latest

CCFLAGS_PYTHON -I/homes/jnorris/software/python/latest/include/python2.5 \
    -I/homes/jnorris/software/python/latest/i386-linux/include/python2.5
LDFLAGS_PYTHON -L/homes/jnorris/software/python/latest/lib

CCFLAGS_GSL -I/homes/jnorris/software/gsl/latest/include
LDFLAGS_GSL -L/homes/jnorris/software/gsl/latest/i386-linux/lib \
    -lgsl -lgslblas



##############################################################################
## NERSC Franklin - Cray XT4 - PGI compiler
##############################################################################

[ nersc_franklin_pgi : Cray XT4 with Portland Group C++ compiler ]

MAKE make -j 4

# USE_PACKAGE MAGICK

CXX CC

CCFLAGS -Minform=warn -gopt -O3 -tp=amd64e --exceptions -Munroll=c:1 \
    -Mnoframe -Mvect=sse -Mscalarsse -Mcache_align -Mflushz -Msmart
LDFLAGS -Minform=warn -gopt -O3 -tp=amd64e --exceptions -Munroll=c:1 \
    -Mnoframe -Mvect=sse -Mscalarsse -Mcache_align -Mflushz -Msmart

CCFLAGS_SHARED -fpic
LDFLAGS_SHARED -shared

CCFLAGS_NOSHARED 
LDFLAGS_NOSHARED -Bstatic

SO_EXT so

RANLIB ranlib
AR ar
ARFLAGS rsc

CCFLAGS_HDF5 -I$(HDF5_DIR)/include
LDFLAGS_HDF5 -L$(HDF5_DIR)/lib -lhdf5 -L/usr/common/usg/zlib/default/lib -lz \
    -L/usr/common/usg/szip/default/lib -lsz

CCFLAGS_MAGICK -I/u0/j/jnorris/software/ImageMagick/latest/include
LDFLAGS_MAGICK -L/u0/j/jnorris/software/ImageMagick/latest/x86_64-linux/lib \
    -lMagick++

## This doesn't work ...

SWIG  # Hmmm....

CCFLAGS_PYTHON -Minform=warn -gopt -O3 -tp=amd64e --exceptions -Munroll=c:1 \
    -Mnoframe -Mvect=sse -Mscalarsse -Mcache_align -Mflushz -Msmart \
    -I/usr/include/python
LDFLAGS_PYTHON 

CCFLAGS_GSL 
LDFLAGS_GSL 



##############################################################################
## NERSC franklin - Cray XT4 - GCC 4.2.1
##############################################################################

[ nersc_franklin_gcc : Cray XT4 with GCC 4.2.1 ]

MAKE make -j 4

USE_PACKAGE MAGICK

CXX g++

CCFLAGS -O3 -fexceptions
LDFLAGS -O3 -fexceptions

CCFLAGS_SHARED -fpic
LDFLAGS_SHARED -shared

CCFLAGS_NOSHARED 
LDFLAGS_NOSHARED -Bstatic

SO_EXT so

RANLIB ranlib
AR ar
ARFLAGS rsc

CCFLAGS_HDF5 -I$(HDF5_DIR)/include
LDFLAGS_HDF5 -L$(HDF5_DIR)/lib -lhdf5 -L/usr/common/usg/zlib/default/lib -lz \
    -L/usr/common/usg/szip/default/lib -lsz

CCFLAGS_MAGICK -I/u0/j/jnorris/software/ImageMagick/latest/include
LDFLAGS_MAGICK -L/u0/j/jnorris/software/ImageMagick/latest/x86_64-linux/lib \
    -lMagick++

## This doesn't work ...

SWIG  # Hmmm....

CCFLAGS_PYTHON -Minform=warn -gopt -O3 -tp=amd64e --exceptions -Munroll=c:1 \
    -Mnoframe -Mvect=sse -Mscalarsse -Mcache_align -Mflushz -Msmart \
    -I/usr/include/python
LDFLAGS_PYTHON 

CCFLAGS_GSL 
LDFLAGS_GSL 



##############################################################################
## NERSC Seaborg - IBM SP POWER3 - xlC
##############################################################################

[ nersc_seaborg_xlC : Serial-mode IBM xlC ]

MAKE gmake -j 4

CXX xlC_r

CCFLAGS -O3 -q32 -qstrict -qinline -qeh -qrtti
LDFLAGS -O3 -q32 -qstrict -qinline -qeh -qrtti

CCFLAGS_SHARED 
LDFLAGS_SHARED -G -Wl,-G

CCFLAGS_NOSHARED 
LDFLAGS_NOSHARED

SO_EXT so

RANLIB ranlib
AR ar
ARFLAGS rsc

CCFLAGS_HDF5 -I$(HDF5_DIR)/include
LDFLAGS_HDF5 -L$(HDF5_DIR)/lib -lhdf5 -lz -lsz



##############################################################################
## LLNL Zeus - AMD Opteron - Path compiler with MPI
##############################################################################

[ llnl_zeus_path_mpi : Path C++ compiler with MPI ]

MAKE make -j 4

USE_PACKAGE MPI MAGICK

CXX mpipathCC

CCFLAGS -Wall -O3 -g -m64 -m3dnow -march=opteron -mcpu=opteron -mmmx -msse \
    -msse2 -mtune=opteron -OPT:Olimit=0
LDFLAGS -Wall -O3 -g -m64 -m3dnow -march=opteron -mcpu=opteron -mmmx -msse \
    -msse2 -mtune=opteron -OPT:Olimit=0

CCFLAGS_SHARED -fpic
LDFLAGS_SHARED -shared

CCFLAGS_NOSHARED 
LDFLAGS_NOSHARED 

SO_EXT so

RANLIB ranlib
AR ar
ARFLAGS rsc

CCFLAGS_HDF5 \
  -I/usr/global/tools/hdf5/installs/chaos_3_x86_64_ib/hdf5-1.6.5/serial/include
LDFLAGS_HDF5 \
  -L/usr/global/tools/hdf5/installs/chaos_3_x86_64_ib/hdf5-1.6.5/serial/lib \
  -Wl,-rpath,/usr/global/tools/hdf5/installs/chaos_3_x86_64_ib/hdf5-1.6.5/serial/lib -lhdf5

SWIG /g/g12/nhearn/local/zeus/swig/1.3.31/bin/swig

CCFLAGS_PYTHON -I/usr/local/include/python2.5
LDFLAGS_PYTHON -L/usr/local/tools/pathscale/lib/3.1 -lopenmp

CCFLAGS_GSL -I/g/g12/nhearn/local/zeus/gsl-1.9/include
LDFLAGS_GSL -Wl,-rpath,/g/g12/nhearn/local/zeus/gsl-1.9/lib \
    -L/g/g12/nhearn/local/zeus/gsl-1.9/lib -lgsl -lgslcblas

CCFLAGS_MAGICK -I/g/g12/nhearn/local/zeus/imagemagick/6.3.8-path/include/ImageMagick
LDFLAGS_MAGICK -L/g/g12/nhearn/local/zeus/imagemagick/6.3.8-path/lib \
    -lMagick++ -lMagickCore



##############################################################################
## LLNL Unclassified Purple - IBM POWER5 - Serial GCC
##############################################################################

[ llnl_up_gcc : Serial-mode GCC ]

MAKE gmake -j 4

CXX g++

CCFLAGS -O2 -W -Wall -g -fexceptions
LDFLAGS -O2 -W -Wall -g -fexceptions

CCFLAGS_SHARED 
LDFLAGS_SHARED -shared -Wl,-G

CCFLAGS_NOSHARED 
LDFLAGS_NOSHARED

SO_EXT so

RANLIB ranlib
AR ar
ARFLAGS rsc

CCFLAGS_HDF5 -I/usr/local/hdf5/hdf5-1.6.5/serial/include
LDFLAGS_HDF5 -L/usr/local/hdf5/hdf5-1.6.5/serial/lib -lhdf5

SWIG /g/g12/nhearn/local/up/swig/1.3.31/bin/swig -Wall

LD_PYTHON /usr/local/lib/python2.5-64/config/ld_so_aix g++

CCFLAGS_PYTHON -O2 -W -Wall -g -fexceptions \
    -I/usr/apps/python64/include/python2.5
LDFLAGS_PYTHON -W -Wall -bI:/usr/local/lib/python2.5-64/config/python.exp \
    -L/usr/local/tools/gnu/gcc/3.3.3_aix_5.3/lib/ppc64 -lstdc++ \
    -L/usr/local/tools/gnu/gcc/3.3.3_aix_5.3/lib -lgcc_s_ppc64

LDFLAGS_SHARED_PYTHON -shared -Wl,-G

CCFLAGS_GSL -I/g/g12/nhearn/local/up/gsl-1.9/include
LDFLAGS_GSL -L/g/g12/nhearn/local/up/gsl-1.9/lib -lgsl -lgslcblas



##############################################################################
## LLNL Unclassified Purple - IBM POWER5 - Serial xlC
##############################################################################

[ llnl_up_xlC : Serial-mode IBM xlC ]

MAKE gmake -j 4

USE_PACKAGE MAGICK

CXX xlC_r

CCFLAGS -O3 -q64 -qstrict -qinline -qeh -qrtti
LDFLAGS -O3 -q64 -qstrict -qinline -qeh -qrtti

CCFLAGS_SHARED 
LDFLAGS_SHARED -G -Wl,-G

CCFLAGS_NOSHARED 
LDFLAGS_NOSHARED

SO_EXT so

RANLIB ranlib
AR ar
ARFLAGS rsc

CCFLAGS_HDF5 -I/usr/local/hdf5/hdf5-1.6.5/serial/include
LDFLAGS_HDF5 -L/usr/local/hdf5/hdf5-1.6.5/serial/lib -lhdf5

CCFLAGS_GSL -I/g/g12/nhearn/local/up/gsl-1.9/include
LDFLAGS_GSL -L/g/g12/nhearn/local/up/gsl-1.9/lib -lgsl -lgslcblas

CCFLAGS_MAGICK -I/usr/global/tools/ImageMagick/6.3.4/aix_5_64_fed/include
LDFLAGS_MAGICK -L/usr/global/tools/ImageMagick/6.3.4/aix_5_64_fed/lib \
    -lMagick++ -lMagick -lWand -lz -lX11 -ltiff -lpng -ljpeg -lbz2 \
    -lfreetype -lfontconfig -lXext

SWIG /g/g12/nhearn/local/up/swig/1.3.31/bin/swig -classic

CCFLAGS_PYTHON -O3 -qstrict -qinline -qeh -qrtti \
    -I/usr/apps/python64/include/python2.5 -DSWIGINTERN=SWIGUNUSED
LDFLAGS_PYTHON -O3 -qstrict -qinline -qeh -qrtti \
    -bI:/usr/local/lib/python2.5-64/config/python.exp

CCFLAGS_SHARED_PYTHON
LDFLAGS_SHARED_PYTHON -G -Wl,-G



##############################################################################
## LLNL Unclassified Purple - IBM POWER5 - Parallel xlC
##############################################################################

[ llnl_up_mpCC : IBM xlC with MPI]

MAKE gmake -j 4

USE_PACKAGE MPI MAGICK

CXX mpCC_r

CCFLAGS -O3 -q64 -qstrict -qinline -qeh -qrtti
LDFLAGS -O3 -q64 -qstrict -qinline -qeh -qrtti

CCFLAGS_SHARED 
LDFLAGS_SHARED -G -Wl,-G

CCFLAGS_NOSHARED 
LDFLAGS_NOSHARED

SO_EXT so

RANLIB ranlib
AR ar
ARFLAGS rsc

CCFLAGS_HDF5 -I/usr/local/hdf5/hdf5-1.6.5/serial/include
LDFLAGS_HDF5 -L/usr/local/hdf5/hdf5-1.6.5/serial/lib -lhdf5

CCFLAGS_GSL -I/g/g12/nhearn/local/up/gsl-1.9/include
LDFLAGS_GSL -L/g/g12/nhearn/local/up/gsl-1.9/lib -lgsl -lgslcblas

CCFLAGS_MAGICK -I/usr/global/tools/ImageMagick/6.3.4/aix_5_64_fed/include
LDFLAGS_MAGICK -L/usr/global/tools/ImageMagick/6.3.4/aix_5_64_fed/lib \
    -lMagick++ -lMagick -lWand -lz -lX11 -ltiff -lpng -ljpeg -lbz2 \
    -lfreetype -lfontconfig -lXext

SWIG /g/g12/nhearn/local/up/swig/1.3.31/bin/swig -classic

CCFLAGS_PYTHON -O3 -qstrict -qinline -qeh -qrtti \
    -I/usr/apps/python64/include/python2.5 -DSWIGINTERN=SWIGUNUSED
LDFLAGS_PYTHON -O3 -qstrict -qinline -qeh -qrtti \
    -bI:/usr/local/lib/python2.5-64/config/python.exp

CCFLAGS_SHARED_PYTHON
LDFLAGS_SHARED_PYTHON -G -Wl,-G



##############################################################################
## LLNL thunder - Itanium2 - Intel C++ with MPI
##############################################################################

[ llnl_thunder_intel_mpi : Intel C++ with MPI ]

LIB_INSTALL_DIR .

USE_PACKAGE MPI

CXX mpiicpc

CCFLAGS -g -Wall -O3 -mcpu=itanium2 -mtune=itanium2 -fpic
LDFLAGS -g -Wall -O3 -mcpu=itanium2 -mtune=itanium2 

CCFLAGS_SHARED -shared
LDFLAGS_SHARED -shared

CCFLAGS_NOSHARED -static
LDFLAGS_NOSHARED -static

SO_EXT so

RANLIB ranlib
AR ar
ARFLAGS rsc

CCFLAGS_HDF5 \
 -I/usr/global/tools/hdf5/installs/chaos_3_ia64_elan4/hdf5-1.6.5/serial/include
LDFLAGS_HDF5 \
  -Wl,-rpath,/usr/global/tools/hdf5/installs/chaos_3_ia64_elan4/hdf5-1.6.5/serial/lib \
  -L/usr/global/tools/hdf5/installs/chaos_3_ia64_elan4/hdf5-1.6.5/serial/lib \
  -lhdf5

SWIG swig

PYTHON_INSTALL_DIR ./python

CCFLAGS_PYTHON -I/usr/local/include/python2.5
LDFLAGS_PYTHON 

CCFLAGS_GSL -I/g/g12/nhearn/local/thunder/include
LDFLAGS_GSL -Wl,-rpath,/g/g12/nhearn/local/thunder/lib \
    -L/g/g12/nhearn/local/thunder/lib -lgsl -lgslcblas



##############################################################################
## LLNL ALC - Intel Pentium 4 Xeon - Serial Intel C++ compiler
##############################################################################

[ llnl_alc_intel : Intel C++ compiler ]

MAKE make -j 3

CXX icpc

CCFLAGS -w1 -g -O2 -tpp7 -xW  # -O3 on quickflash_hdf5.cpp produces ICE
LDFLAGS -w1 -g -O2 -tpp7 -xW

CCFLAGS_SHARED 
LDFLAGS_SHARED -shared

CCFLAGS_NOSHARED 
LDFLAGS_NOSHARED 

SO_EXT so

RANLIB ranlib
AR ar
ARFLAGS rsc

CCFLAGS_HDF5 \
  -I/usr/global/tools/hdf5/installs/chaos_3_x86_elan3/hdf5-1.6.5/serial/include
LDFLAGS_HDF5 \
  -L/usr/global/tools/hdf5/installs/chaos_3_x86_elan3/hdf5-1.6.5/serial/lib \
  -Wl,-rpath,/usr/global/tools/hdf5/installs/chaos_3_x86_elan3/hdf5-1.6.5/serial/lib -lhdf5

SWIG swig  # Version 1.3.21 (?)

CCFLAGS_PYTHON -I/usr/local/include/python2.5
LDFLAGS_PYTHON -lswigpy



##############################################################################
## LLNL ALC - Intel Pentium 4 Xeon - Intel C++ compiler with MPI
##############################################################################

[ llnl_alc_intel_mpi : Intel C++ with MPI ]

MAKE make -j 3

USE_PACKAGE MPI

CXX mpiicpc

CCFLAGS -w1 -g -O3 -tpp7 -xW
LDFLAGS -w1 -g -O3 -tpp7 -xW

CCFLAGS_SHARED 
LDFLAGS_SHARED -shared

CCFLAGS_NOSHARED 
LDFLAGS_NOSHARED 

SO_EXT so

RANLIB ranlib
AR ar
ARFLAGS rsc

CCFLAGS_HDF5 \
  -I/usr/global/tools/hdf5/installs/chaos_3_x86_elan3/hdf5-1.6.5/serial/include
LDFLAGS_HDF5 \
  -L/usr/global/tools/hdf5/installs/chaos_3_x86_elan3/hdf5-1.6.5/serial/lib \
  -Wl,-rpath,/usr/global/tools/hdf5/installs/chaos_3_x86_elan3/hdf5-1.6.5/serial/lib -lhdf5

SWIG swig  # Version 1.3.21 (?)

CCFLAGS_PYTHON -I/usr/local/include/python2.5
LDFLAGS_PYTHON -lswigpy



##############################################################################
## Flash Center Ellipse - Pentium 4 Xeon - Serial Intel C++
##############################################################################

[ flash_ellipse_intel : Settings for ellipse ]

MAKE make -j 3

LIB_INSTALL_DIR  .

USE_PACKAGE MAGICK

CXX  icpc

CCFLAGS -g -w1 -xW -O3 -tpp7
CCFLAGS_SHARED -shared
CCFLAGS_NOSHARED 
CCFLAGS_HDF5  -I/soft/hdf5-1.6.5-intel-r1/include

LDFLAGS -g -w1 -xW -O3 -tpp7
LDFLAGS_SHARED -shared
LDFLAGS_NOSHARED 
LDFLAGS_HDF5  /soft/hdf5-1.6.5-intel-r1/lib/libhdf5.a -lz

RANLIB ranlib
AR  ar
ARFLAGS  rsc
SO_EXT  so

PYTHON_INSTALL_DIR  ./python

SWIG  swig

CCFLAGS_PYTHON  -I /usr/include/python2.3
LDFLAGS_PYTHON 

CCFLAGS_GSL -I /usr/include
LDFLAGS_GSL -L /usr/lib -lgsl -lgslcblas

CCFLAGS_MAGICK -I/home/nhearn/local/imagemagick/6.3.7/include
LDFLAGS_MAGICK -L/home/nhearn/local/imagemagick/6.3.7/lib -lMagick++



##############################################################################
## Flash Center Ellipse - Intel Pentium 4 Xeon - Intel C++ with MPICH
##############################################################################

[ flash_ellipse_intel_mpi : Settings for ellipse with MPI ]

MAKE make -j 3

LIB_INSTALL_DIR  .

USE_PACKAGE MPI MAGICK

CXX mpicxx

CCFLAGS -g -w1 -xW -O3 -tpp7
CCFLAGS_SHARED -shared
CCFLAGS_NOSHARED 
CCFLAGS_HDF5  -I$(HDF5_HOME)/include

LDFLAGS -g -w1 -xW -O3 -tpp7
LDFLAGS_SHARED -shared
LDFLAGS_NOSHARED 
LDFLAGS_HDF5  $(HDF5_HOME)/lib/libhdf5.a -lz

RANLIB ranlib
AR  ar
ARFLAGS  rsc
SO_EXT  so

PYTHON_INSTALL_DIR  ./python

SWIG  swig

CCFLAGS_PYTHON  -I /usr/include/python2.3
LDFLAGS_PYTHON 

CCFLAGS_GSL -I /usr/include
LDFLAGS_GSL -L /usr/lib -lgsl -lgslcblas

CCFLAGS_MAGICK -I/home/nhearn/local/imagemagick/6.3.7/include
LDFLAGS_MAGICK -L/home/nhearn/local/imagemagick/6.3.7/lib -lMagick++



##############################################################################
## Flash Center Fornax - Intel Pentium 4 Xeon - GCC 4.3.1
##############################################################################

[ flash_fornax_gcc : GCC 4.3.1 ]

MAKE make -j 3

LIB_INSTALL_DIR .

CXX g++-4.3.1

CCFLAGS -W -Wall -Wextra -O3 -g -march=pentium4 -mtune=pentium4 \
    -ftree-vectorize -msse2 -msse -mmmx
LDFLAGS -W -Wall -Wextra -O3 -g -march=pentium4 -mtune=pentium4 

CCFLAGS_SHARED 
LDFLAGS_SHARED -shared

CCFLAGS_NOSHARED 
LDFLAGS_NOSHARED 

SO_EXT so

RANLIB ranlib
AR ar
ARFLAGS rsc

CCFLAGS_HDF5 -I$(HDF5_ROOT)/include
LDFLAGS_HDF5 -L$(HDF5_ROOT)/lib -lhdf5

SWIG swig -Wall

PYTHON_INSTALL_DIR ./python

CCFLAGS_PYTHON -I /usr/include/python -W -Wall -Wextra -O3 -g -march=pentium4 \
    -mtune=pentium4 -ftree-vectorize -msse2 -msse -mmmx
LDFLAGS_PYTHON -W -Wall -Wextra -O3 -g -march=pentium4 -mtune=pentium4

CCFLAGS_GSL -I /usr/include
LDFLAGS_GSL -L /usr/lib -lgsl -lgslcblas



##############################################################################
## Flash Center Fornax - Intel Pentium 4 Xeon - GCC 4.3.1 + OpenMPI 1.2.6
##############################################################################

[ flash_fornax_gcc_mpi : GCC 4.3.1 + OpenMPI 1.2.6 ]

MAKE make -j 3

LIB_INSTALL_DIR .

USE_PACKAGE MPI MAGICK

CXX mpic++

CCFLAGS -W -Wextra -Wall -O3 -g -march=pentium4 -mtune=pentium4 \
    -ftree-vectorize -msse2 -msse -mmmx -mfpmath=sse
LDFLAGS -W -Wextra -Wall -O3 -g -march=pentium4 -mtune=pentium4 

CCFLAGS_SHARED 
LDFLAGS_SHARED -shared

CCFLAGS_NOSHARED 
LDFLAGS_NOSHARED 

SO_EXT so

RANLIB ranlib
AR ar
ARFLAGS rsc

CCFLAGS_HDF5 -I$(HDF5_ROOT)/include
LDFLAGS_HDF5 -L$(HDF5_ROOT)/lib -lhdf5

SWIG swig

PYTHON_INSTALL_DIR ./python

CCFLAGS_PYTHON -I /usr/include/python
LDFLAGS_PYTHON 

CCFLAGS_GSL -I /usr/local/include
LDFLAGS_GSL -L /usr/local/lib -lgsl -lgslcblas

CCFLAGS_MAGICK -I/usr/include
LDFLAGS_MAGICK -L/usr/lib -lMagick++



##############################################################################
## Flash Center Klamath - Mac OS 10.4 - PowerPC 7447 - GCC 4.1.1
##############################################################################

[ flash_klamath_gcc : Mac OS 10.4 (PowerPC 7447) with GCC 4.1.1 ]

MAKE make

USE_PACKAGE MAGICK

CXX g++

CCFLAGS -W -Wall -Wextra -g -O3 -mcpu=7450 -mtune=7450 -faltivec \
    -ftree-vectorize -falign-loops=16 
LDFLAGS -W -Wall -Wextra -O3 -g -mcpu=7450 -mtune=7450 -faltivec \
    -ftree-vectorize -falign-loops=16 

CCFLAGS_SHARED 
LDFLAGS_SHARED -dynamiclib

CCFLAGS_NOSHARED -mdynamic-no-pic
LDFLAGS_NOSHARED -mdynamic-no-pic

SO_EXT dylib

RANLIB ranlib
AR ar
ARFLAGS rsc

CCFLAGS_HDF5 -I$(HDF5_INCLUDE)
LDFLAGS_HDF5 $(HDF5_LDFLAGS)

SWIG swig

CCFLAGS_PYTHON \
   -I/System/Library/Frameworks/Python.framework/Versions/2.3/include/python2.3
LDFLAGS_PYTHON -framework Python

CCFLAGS_GSL -I$(GSL_INCLUDE)
LDFLAGS_GSL -L$(GSL_LIB) -lgsl -lgslcblas

CCFLAGS_MAGICK -I$(MAGICK_INCLUDE)/ImageMagick
LDFLAGS_MAGICK -L$(MAGICK_LIB) -lMagick++



##############################################################################
## University of Michigan Jekyll - Intel PowerMac - GCC + OpenMPI
##############################################################################

[ umich_jekyll_gcc_mpi ]

MAKE make -j 4

USE_PACKAGE MPI MAGICK

CXX mpicxx

CCFLAGS -W -Wall -Wextra -g -O3 -ftree-vectorize
LDFLAGS -W -Wall -Wextra -g -O3 -ftree-vectorize

CCFLAGS_SHARED
LDFLAGS_SHARED -dynamiclib

CCFLAGS_NOSHARED 
LDFLAGS_NOSHARED 

SO_EXT dylib

RANLIB ranlib
AR ar
ARFLAGS rsc

CCFLAGS_HDF5 -I/local/include
LDFLAGS_HDF5 -L/local/lib -lhdf5 -lz

SWIG swig

CCFLAGS_PYTHON \
   -I/System/Library/Frameworks/Python.framework/Versions/2.5/include/python2.5
LDFLAGS_PYTHON -framework Python

CCFLAGS_GSL -I/local/gsl-1.9/gcc-4.4-i386/include
LDFLAGS_GSL -L/local/gsl-1.9/gcc-4.4-i386/lib -lgsl -lgslcblas

CCFLAGS_MAGICK -I/usr/local/include
LDFLAGS_MAGICK -L/usr/local/lib -lMagick++



##############################################################################
## University of Michigan - Intel MacBook Pro - GCC
##############################################################################

[ umich_ck_gcc : Intel MacBook Pro Mac OS 10.5 ]

MAKE make -j 2

CXX g++

CCFLAGS -W -Wall -g -O3 -ftree-vectorize \
    -falign-loops=16
LDFLAGS -W -Wall -g -O3 -ftree-vectorize \
    -falign-loops=16

CCFLAGS_SHARED 
LDFLAGS_SHARED -dynamiclib

CCFLAGS_NOSHARED -mdynamic-no-pic
LDFLAGS_NOSHARED -mdynamic-no-pic

SO_EXT dylib

RANLIB ranlib
AR ar
ARFLAGS rsc

CCFLAGS_HDF5 -I/usr/local/hdf5/include
LDFLAGS_HDF5 -L/usr/local/hdf5/lib -lhdf5


##############################################################################
## University of Cologne - Intel Archlinux x86-64 - GCC 5.3.0
##############################################################################

[ nemesis : My supi-dupi Arch Linux setup]

USE_PACKAGE MAGICK

MAKE make -j4

CXX g++

CCFLAGS -W -Wall -g -O3 -ftree-vectorize -falign-loops=16
LDFLAGS -W -Wall -g -O3 -ftree-vectorize -falign-loops=16

CCFLAGS_SHARED -fPIC
LDFLAGS_SHARED -shared

CCFLAGS_NOSHARED -mdynamic-no-pic
LDFLAGS_NOSHARED -mdynamic-no-pic

SO_EXT dylib

RANLIB ranlib
AR ar
ARFLAGS rsc

CCFLAGS_HDF5 -DH5_USE_16_API
LDFLAGS_HDF5 -lhdf5

SO_EXT so

RANLIB ranlib
AR ar
ARFLAGS rsc

SWIG swig

PYTHON_INSTALL_DIR ./python

CCFLAGS_PYTHON -I/usr/include/python2.7
LDFLAGS_PYTHON

CCFLAGS_GSL
LDFLAGS_GSL -lgsl -lgslcblas

CCFLAGS_MAGICK -I/usr/include/ImageMagick-6
LDFLAGS_MAGICK -lMagick++-6.Q16HDRI

### End machine descriptions

[ debian-FLASH4 : systemd-nspawn debian]

MAKE make -j16

CXX g++

CCFLAGS -W -Wall -g -O3 -ftree-vectorize -falign-loops=16
LDFLAGS -W -Wall -g -O3 -ftree-vectorize -falign-loops=16

CCFLAGS_SHARED -fPIC
LDFLAGS_SHARED -shared

CCFLAGS_NOSHARED -mdynamic-no-pic
LDFLAGS_NOSHARED -mdynamic-no-pic

SO_EXT dylib

RANLIB ranlib
AR ar
ARFLAGS rsc

CCFLAGS_HDF5 -DH5_USE_16_API -I/usr/include/hdf5/mpich -I/usr/include/mpich
LDFLAGS_HDF5 -L/usr/lib/x86_64-linux-gnu/hdf5/mpich -lhdf5

SO_EXT so

RANLIB ranlib
AR ar
ARFLAGS rsc
